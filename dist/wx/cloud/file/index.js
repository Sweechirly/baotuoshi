const cloud=require("wx-server-sdk"),TcbRouter=require("tcb-router"),resConfig=require("./config"),transVideoHandler=require("./_trans_video_handler.js"),CODE=resConfig.CODE;cloud.init({env:cloud.DYNAMIC_CURRENT_ENV,throwOnNotFound:!1}),exports.main=async(e,r)=>{const a=new TcbRouter({event:e}),{queryParams:o}=e;var n,s;return a.use((async(e,r)=>{e.data={},console.log("file start"),await r()})),n="transVideo",s=transVideoHandler,a.router(n,(async(e,r)=>{await s(e,o,CODE),await r()}),(async e=>{e.body={code:e.code||CODE.SUCCESS,message:e.message,data:e.data}})),a.serve()};